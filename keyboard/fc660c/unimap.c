#include "action.h"
#include "actionmap.h"
#include "hook.h"
#include "fc660c.h"


#define AC_L3       ACTION_LAYER_MOMENTARY(3)
#define AC_L4       ACTION_LAYER_MOMENTARY(4)
#define AC_LS_2     ACTION_LAYER_MODS(2, MOD_LSFT)
#define AC_RS_2     ACTION_LAYER_MODS(2, MOD_RSFT)
#define AC_TGL1     ACTION_LAYER_TOGGLE(1)
#define AC_SPC5     ACTION_LAYER_TAP_KEY(5, KC_SPC)
#define AC_SLS6     ACTION_LAYER_TAP_KEY(6, KC_SLSH)

#define AC_BACK     ACTION_MODS_KEY(MOD_LALT, KC_LEFT)
#define AC_FRWD     ACTION_MODS_KEY(MOD_LALT, KC_RIGHT)
// hyulim Layout
// emulates FC660C default keymap
#ifdef KEYMAP_SECTION_ENABLE
const action_t actionmaps[][UNIMAP_ROWS][UNIMAP_COLS] __attribute__ ((section (".keymap.keymaps"))) = {
#else
const action_t actionmaps[][UNIMAP_ROWS][UNIMAP_COLS] PROGMEM = {
#endif
{
        { 0x0000,0x0000,0x0000,0x0000,0x0004,0x0005,0x0006,0x0007,0x0008,0x0009,0x000a,0x000b,0x000c,0x000d,0x000e,0x000f, },
        { 0x0010,0x0011,0x0012,0x0013,0x0014,0x0015,0x0016,0x0017,0x0018,0x0019,0x001a,0x001b,0x001c,0x001d,0x001e,0x001f, },
        { 0x0020,0x0021,0x0022,0x0023,0x0024,0x0025,0x0026,0x0027,0x0028,0x0000,0x002a,0x002b,0x002c,0x002d,0x002e,0x002f, },
        { 0x0030,0x0031,0x0000,0x0033,0x0034,0x0029,0x0036,0x0037,0x0038,0xa4f1,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0804,0x0000,0x0000,0x004c,0x0000,0x0000,0x004f, },
        { 0x0050,0x0051,0x0052,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x00e0,0x00e1,0x00e2,0x00e3,0x00e4,0xa7d2,0x00e6,0xa2f1, },
    },
    {
        { 0x0000,0x0000,0x0000,0x0000,0x0004,0x0005,0x0006,0x0007,0x0008,0x0009,0x000a,0x000b,0x000c,0x000d,0x000e,0x000f, },
        { 0x0010,0x0011,0x0012,0x0013,0x0014,0x0015,0x0016,0x0017,0x0018,0x0019,0x001a,0x001b,0x001c,0x001d,0x001e,0x001f, },
        { 0x0020,0x0021,0x0022,0x0023,0x0024,0x0025,0x0026,0x0027,0x0028,0x0000,0x002a,0x002b,0x002c,0x002d,0x002e,0x002f, },
        { 0x0030,0x0031,0x0000,0x0033,0x0034,0x0029,0x0036,0x0037,0x0038,0xa5f1,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x006d,0x0000,0x0000,0x004c,0x0000,0x0000,0x004f, },
        { 0x0050,0x0051,0x0052,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x00e0,0x00e1,0x00e3,0x00e2,0x00e4,0xa7d2,0x006e,0xa3f1, },
    },
    {
        { 0x0000,0x0000,0x0000,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0046,0x0001,0x004a,0x004b, },
        { 0x0001,0x0001,0x0047,0x0048,0x8a02,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x003a,0x003b, },
        { 0x003c,0x003d,0x003e,0x003f,0x0040,0x0041,0x0042,0x0043,0x0001,0x0000,0x004a,0x0001,0x0001,0x0044,0x0045,0x0001, },
        { 0x0001,0x004d,0x0000,0x0001,0x0001,0x0035,0x004d,0x004e,0x0001,0x0001,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x004b,0x0000,0x0000,0x004e,0x0000,0x0000,0x44b5, },
        { 0x44b6,0x44ea,0x44e9,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0001,0x0001,0x0001,0x0001,0x0065,0x0001,0x0001,0xa2f1, },
    },
    {
        { 0x0000,0x0000,0x0000,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0046,0x0001,0x004a,0x004b, },
        { 0x0001,0x0001,0x0047,0x0048,0x8a02,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x003a,0x003b, },
        { 0x003c,0x003d,0x003e,0x003f,0x0040,0x0041,0x0042,0x0043,0x0001,0x0000,0x004a,0x0001,0x0001,0x0044,0x0045,0x0001, },
        { 0x0001,0x004d,0x0000,0x0001,0x0001,0x0035,0x004d,0x004e,0x0001,0x0001,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x004b,0x0000,0x0000,0x004e,0x0000,0x0000,0x44b5, },
        { 0x44b6,0x44ea,0x44e9,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0001,0x0001,0x0001,0x0001,0x0065,0x0001,0x0001,0xa3f1, },
    },
    {
        { 0x0000,0x0000,0x0000,0x0000,0x0104,0x0105,0x0106,0x0107,0x0108,0x0109,0x010a,0x0050,0x010c,0x0051,0x0052,0x004f, },
        { 0x0110,0x0111,0x0112,0x0113,0x043d,0x0115,0x0116,0x0117,0x0118,0x0119,0x011a,0x011b,0x011c,0x011d,0x003a,0x003b, },
        { 0x003c,0x003d,0x003e,0x003f,0x0040,0x0041,0x0042,0x0043,0x0128,0x0000,0x004c,0x0001,0x0001,0x0044,0x0045,0x012f, },
        { 0x0130,0x0131,0x0000,0x0133,0x0134,0x0035,0x0136,0x0137,0x0138,0xa4f1,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x004b,0x0000,0x0000,0x004e,0x0000,0x0000,0x0001, },
        { 0x0001,0x0001,0x0001,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, },
        { 0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
    },
    {
        { 0x0001,0x0001,0x0001,0x0001,0x0804,0x0805,0x0806,0x0807,0x0808,0x0809,0x080a,0x0050,0x080c,0x0051,0x0052,0x004f, },
        { 0x0810,0x0811,0x0812,0x0813,0x0814,0x0815,0x0816,0x0817,0x0818,0x0819,0x081a,0x081b,0x081c,0x081d,0x003a,0x003b, },
        { 0x003c,0x003d,0x003e,0x003f,0x0040,0x0041,0x0042,0x0043,0x0828,0x0001,0x004c,0x0001,0x082c,0x0044,0x0045,0x082f, },
        { 0x0830,0x0831,0x0001,0x0833,0x0834,0x0035,0x0836,0x0837,0x0838,0xa5f1,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x004b,0x0001,0x0001,0x004e,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
    },
    {
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
    },
    {
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0035,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001, },
        { 0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0x0001,0xa7d2,0x0001,0x0001, },
    },
};


void hook_layer_change(uint32_t layer_state)
{
    // lights LED when layer 1 is enabled
    // if want insert -> 1<<5
    // if want caps -> 1<<6
    if (layer_state & (1L<<1)) {
        PORTB &= ~(1<<6);
    } else {
        PORTB |=  (1<<6);
    }
}
